(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r),c=(n(78),n(57)),l=n(10),s=(n(79),n(34)),u=n(132),m=n(147),f=n(146),h=Object(u.a)(function(e){return{root:{"& > *":{margin:e.spacing(3),width:"40ch"}},form:{backgroundColor:"white"}}});function d(e){var t=h();return o.a.createElement(m.a,{display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},o.a.createElement(f.a,{className:t.form,id:"filled-basic",label:"Search Books",variant:"filled",onChange:e.handleInputChange,value:e.searchTerm})))}var g=n(30),v=n.n(g),p={search:function(e){return v.a.get("/api/google/"+e)},getBooks:function(){return v.a.get("/api/books/")},getBook:function(e){return v.a.get("/api/books/"+e)},deleteBook:function(e){return v.a.delete("/api/books/"+e)},saveBook:function(e){return v.a.post("/api/books",e)}},k=n(135),b=n(136),E=n(140),w=n(138),I=n(137),j=n(141),y=n(139),N=Object(u.a)({root:{maxWidth:360},media:{height:150}});function x(e){var t=N();return o.a.createElement(k.a,{className:t.root},o.a.createElement(b.a,null,o.a.createElement(I.a,{className:t.media,image:e.image,title:e.title}),o.a.createElement(w.a,null,o.a.createElement(y.a,{gutterBottom:!0,variant:"h6",component:"h2"},e.title),o.a.createElement(y.a,{variant:"body1",component:"p"},e.authors),o.a.createElement(y.a,{variant:"subtitle2",color:"textSecondary",component:"p"},e.description))),o.a.createElement(E.a,null,o.a.createElement(j.a,{size:"small",color:"primary",target:"_blank",href:e.link},"View Book"),o.a.createElement(j.a,{component:"button",color:"secondary",onClick:e.action},e.btnContent)))}var B=n(143),C=n(142),O=Object(u.a)(function(e){return{box:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},gridList:{width:"100%",height:"100%",justifyContent:"center"},button:{backgroundColor:"#03a9f4",color:"white"}}});var L=function(){var e=O(),t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(""),l=Object(s.a)(c,2),u=l[0],f=l[1];return o.a.createElement(C.a,null,o.a.createElement(d,{handleInputChange:function(e){var t=e.target.value;f(t)},name:"title",searchTerm:u}),o.a.createElement(m.a,{className:e.box},o.a.createElement(j.a,{className:e.button,variant:"contained",onClick:function(){p.search(u).then(function(e){i(e.data)}).catch(function(){i([])})}},"Search")),r.length?o.a.createElement(B.a,{className:e.gridList,cols:3},r.map(function(e,t){return o.a.createElement(x,{key:t,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"https://www.fillmurray.com/640/360",title:e.volumeInfo.title,authors:e.volumeInfo.authors.join(", "),description:e.volumeInfo.description?e.volumeInfo.description:"No description for this book",link:e.volumeInfo.infoLink,action:function(){var t;t=e,p.saveBook({title:t.volumeInfo.title,authors:t.volumeInfo.authors?t.volumeInfo.authors:"No authors found",description:t.volumeInfo.description?t.volumeInfo.description:"No synopsis found",image:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://via.placeholder.com/150.png?text=No+Image+Found",link:t.volumeInfo.infoLink}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},btnContent:"Save Book"})})):o.a.createElement(y.a,{color:"primary",variant:"h3",className:e.box}))},S=Object(u.a)({root:{maxWidth:"100%",justifyContent:"center",alignItems:"center",textAlign:"center",margin:"20px"},heading:{margin:"25px",color:"#03a9f4"},gridList:{width:"100%",height:"100%",justifyContent:"center"}});var W=function(){var e=S(),t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],i=n[1];Object(a.useEffect)(function(){c()},[]);var c=function(){p.getBooks().then(function(e){return i(e.data)}).catch(function(e){return console.log(e)})};return o.a.createElement(C.a,{border:1,borderColor:"secondary",className:e.root},o.a.createElement(y.a,{variant:"h4",component:"h1",className:e.heading},"Saved Books"),o.a.createElement(B.a,{className:e.gridList,cols:3},r.map(function(e,t){return o.a.createElement(x,{key:t,id:e._id,image:e.image,title:e.title,authors:e.authors,description:e.description,link:e.link,action:function(){var t;t=e._id,p.deleteBook(t).then(function(e){return c()}).catch(function(e){return console.log(e)})},btnContent:"Delete Book"})})))},G=n(144),R=n(145),_=Object(u.a)(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},appbar:{backgroundColor:"#e64a19",padding:20},button:{color:"white",margin:"auto",marginRight:e.spacing(2)}}});function A(){var e=_();return o.a.createElement("div",{className:e.root},o.a.createElement(G.a,{position:"static",className:e.appbar},o.a.createElement(R.a,null,o.a.createElement(y.a,{variant:"h5",className:e.title},"Google Book Search"),o.a.createElement(j.a,{color:"inherit",href:"/search"},"Search"),o.a.createElement(j.a,{color:"inherit",href:"/saved"},"Saved Books"))))}var J=function(){return o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement(A,null),o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:["/","/search"]},o.a.createElement(L,null)),o.a.createElement(l.a,{exact:!0,path:"/saved"},o.a.createElement(W,null)))))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(J,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");T?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):V(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):V(e)})}}()},73:function(e,t,n){e.exports=n(102)},78:function(e,t,n){},79:function(e,t,n){}},[[73,1,2]]]);
//# sourceMappingURL=main.e57af9ce.chunk.js.map